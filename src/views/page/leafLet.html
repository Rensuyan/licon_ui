<script type="text/html" template>
    <!-- <link rel="stylesheet" href="{{ layui.setter.base }}style/extend/leaflet.css?v={{ layui.admin.v }}-1" media="all"> -->
</script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
<div class="layui-fluid">
    <div id="allmap" style="height: 600px;"></div>
</div>
<script>
    layui.use(['form', 'leafLet'], function () {
        var $ = layui.$;
        var map = new L.Map('allmap', {
            center: new L.LatLng(39.86, 116.45),
            zoom: 10
        });


        var baseLayers = {
            'Sputnik': L.tileLayer('http://{s}.tiles.maps.sputnik.ru/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: "Sputnik Layer"
            }),

            "CartoDB Positron": L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
                maxZoom: 18
            }),

            "OSM": L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 18
            }).addTo(map),

            "OpenTopoMap": L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                maxZoom: 18
            }),
        };

        var layerControl = L.control.layers(baseLayers, {}, {
            position: 'topleft',
            collapsed: true
        }).addTo(map);

        var bj = L.marker([39.92, 116.46]).bindPopup('这里是北京'),
            sh = L.marker([31.213, 121.445]).bindPopup('这里是上海'),
            gz = L.marker([23.16, 113.23]).bindPopup('这里是广州');
        var cities = L.layerGroup([bj, sh, gz]).addTo(map);

        // var mymap = L.map('allmap').setView([41, 123], 13);
        // L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
        //     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        //     maxZoom: 18,
        //     id: 'mapbox.streets',
        //     accessToken: '密钥需要申请'
        // }).addTo(mymap);
        // L.marker([41, 123])
        //     .addTo(mymap)
        //     .bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();
    });
</script>